<body>
<div class="pear-container">
    <div class="layui-card">
        <div class="layui-card-body">

    <div id="situationOperationForm"></div>
        </div>
    </div>

    <div class="layui-card">
        <div class="layui-card-body" id="cardTable">
    <table class="layui-hide" id="tableSearch"></table>
        </div>
    </div>
</div>

<script>
    layui.use(['table', 'dropdown', 'form', 'laydate', 'formInput', 'tools'], function () {
        var table = layui.table,
            form = layui.form,
            formInput = layui.formInput,
            laydate = layui.laydate,
            tools = layui.tools,
            $ = layui.jquery,
            dropdown = layui.dropdown;

        var tableData = []
        var urlUser = '/api/v2/user'
        {
            var formConfig = [
                {type:"text", name:"A", placeholder:"Field A", layAffix:"clear", class:"layui-input", value:"", icon:"layui-icon-username", colClass:"layui-col-md2"},
                {type:"text", name:"B", placeholder:"Field B", layAffix:"clear", class:"layui-input", value:"",colClass:"layui-col-md2"},
                {type:"text", name:"C", placeholder:"Field C", layAffix:"clear", class:"layui-input demo-table-search-date", value:"", icon: "layui-icon-date",colClass:"layui-col-md2"},
                {type:"select", name:"D", children:[{text:"option1", value:"1"}]},
                {type:"button", name:"E", placeholder:"æäº¤", class:"layui-btn", colClass:"layui-col-md1 layui-col-md-offset1", value:"", icon: "layui-icon-search", layFilter:"button"},
                {type:"button", name:"F", placeholder:"æ¸…ç†", class:"layui-btn layui-btn-primary", buttonType:"reset", icon: "layui-icon-clear", layFilter:""},

            ]

            formInput.render({
                elem: '#situationOperationForm',
                data: formConfig,
            })
            form.on("submit(button)", data =>{
                console.log(data.field)
                return false
            })

        }

        {
            tools.ajax(urlUser, 'get', "", false).then(res=>{
                tableData = res.data.list
            table.render({
                elem: '#tableSearch',
                // url: '', // æ­¤å¤„ä¸ºé™æ€æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€æ¢æˆçœŸå®æ¥å£
                skin:'line',
                data: tableData,
                cols: [[
                    {type: 'checkbox', title: 'ğŸ˜Š'}, // å•é€‰æ¡†
                    {field:'id', title: 'ID', sort: true},
                    {field:'username', title: 'ç”¨æˆ·å', },
                    {field:'gender', title: 'æ€§åˆ«', sort: true},
                    {field:'age', title: 'å¹´é¾„', },
                    {field:'information', title: 'ä¿¡æ¯'},
                    {field:'experience', title: 'ç§¯åˆ†', sort: true, width:80}
                ]],
                page: true,
                height: "full-230"
            });
            })
            // æ—¥æœŸ
            laydate.render({
                elem: '.demo-table-search-date'
            });
            // æœç´¢æäº¤
            form.on('submit(demo-table-search)', function(data){
                var field = data.field; // è·å¾—è¡¨å•å­—æ®µ
                // æ‰§è¡Œæœç´¢é‡è½½
                table.reload('ID-table-demo-search', {
                    page: {
                        curr: 1 // é‡æ–°ä»ç¬¬ 1 é¡µå¼€å§‹
                    },
                    where: field // æœç´¢çš„å­—æ®µ
                });
                layer.msg('æœç´¢æˆåŠŸ<br>æ­¤å¤„ä¸ºé™æ€æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…ä½¿ç”¨æ—¶æ¢æˆçœŸå®æ¥å£å³å¯');
                return false; // é˜»æ­¢é»˜è®¤ form è·³è½¬
            });
        }



    })
</script>


</body>
